<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1" />
  <title> Calcu Fee </title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f4f4f4;
    }

    h1 {
      color: #333;
      text-align: center;
    }

    h2 {
      text-align: center;
    }

    form {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    label {
      display: block;
      margin-top: 10px;
    }

    input[type="number"] {
      padding: 8px;
      width: 100%;
      max-width: 100%;
      margin-top: 5px;
      box-sizing: border-box;
    }

    button {
      margin-top: 15px;
      padding: 10px 15px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
    }

    button:hover {
      background-color: #0056b3;
    }

    #result {
      background: #fff;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      white-space: pre-wrap;
      word-break: break-all;
      min-height: 100px;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    @media (max-width: 500px) {
      body {
        padding: 5px;
        font-size: 16px;
      }

      form,
      #result {
        padding: 10px;
        max-width: 100%;
      }

      h1 {
        font-size: 1.3em;
      }
    }
  </style>
</head>

<body>

  <h1> Calcu Fee </h1>

  <form id="calc-form">
    <label for="first_trip">First Trip:</label>
    <input type="number" id="first_trip" name="first_trip" placeholder="Enter first trip" step="any">

    <label for="a">A:</label>
    <input type="number" id="a" name="a" placeholder="Enter A" step="any">

    <label for="b">B:</label>
    <input type="number" id="b" name="b" placeholder="Enter B" step="any">

    <label for="c">C:</label>
    <input type="number" id="c" name="c" placeholder="Enter C" step="any">

    <button type="submit">Calculate</button>
  </form>

  <h2>Output:</h2>
  <pre id="result"></pre>

  <script>
    function realMain(first_trip, a, b, c) {
      const tot = a + b + c;
      const pa = a / tot, pb = b / tot, pc = c / tot;
      const rl = 2.0 * pa + pb + pc;
      const ra = (pa / rl) * tot, rb = (pb / rl) * tot, rc = (pc / rl) * tot;
      const first_avg = first_trip / 4.0;

      const person_with_trip_round = { zxf: 0.0, cwh: 0.0 };
      const person_with_trip_heading = { zxq: 0.0, jyy: 0.0 };
      const person_with_trip_back = { rzl: 0.0, xyy: 0.0 };

      let acc = 0.0;
      let output = "";

      for (const key of ["zxf", "cwh"]) {
        const val = person_with_trip_round[key] + ra + first_avg;
        person_with_trip_round[key] = val;
        acc += val;
        output += `${key}: ${val}\n`;
      }

      person_with_trip_back["rzl"] = person_with_trip_back["rzl"] + rb;
      person_with_trip_back["xyy"] = person_with_trip_back["xyy"] + rc;

      for (const key of ["zxq", "jyy"]) {
        const val = person_with_trip_heading[key] + first_avg;
        person_with_trip_heading[key] = val;
        acc += val;
        output += `${key}: ${val}\n`;
      }

      for (const key of ["rzl", "xyy"]) {
        const val = person_with_trip_back[key];
        acc += val;
        output += `${key}: ${val}\n`;
      }

      return output;
    }

    document.getElementById('calc-form').addEventListener('submit', function (e) {
      e.preventDefault();
      const first_trip = parseFloat(document.getElementById('first_trip').value) || 0;
      const a = parseFloat(document.getElementById('a').value) || 0;
      const b = parseFloat(document.getElementById('b').value) || 0;
      const c = parseFloat(document.getElementById('c').value) || 0;

      const resultText = realMain(first_trip, a, b, c);
      document.getElementById('result').textContent = resultText;
    });
  </script>

</body>

</html>